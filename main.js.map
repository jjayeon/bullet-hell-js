{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/mainloop.js/build/mainloop.min.js","webpack:///./node_modules/@jjy/input/src/lib/Helpers.js","webpack:///./node_modules/@jjy/input/src/lib/Input.js","webpack:///./src/js/Entity/Entity.js","webpack:///./src/js/Entity/Player/Bullet.js","webpack:///./src/js/Entity/Player/Player.js","webpack:///./src/js/Entity/Enemy/Enemy.js","webpack:///./src/assets/player.png","webpack:///./src/assets/bullet.png","webpack:///./src/assets/enemy.png","webpack:///./src/js/Game.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","a","b","x","q","e","h","f","g","j","k","u","v","w","window","requestAnimationFrame","Date","now","Math","max","setTimeout","cancelAnimationFrame","clearTimeout","MainLoop","getSimulationTimestep","setSimulationTimestep","this","getFPS","getMaxAllowedFPS","setMaxAllowedFPS","stop","resetFrameDelta","setBegin","setUpdate","setDraw","setEnd","start","isRunning","mouseButtons","modifiers","initBinds","out","None","mod","prepareDocument","data","document","addEventListener","pressed","button","y","extract","args","callback","length","bindHelper","vals","event","dry","binds","upbinds","wrappedCallback","shiftKey","ctrlKey","metaKey","altKey","validate","type","includes","push","unbindHelper","callbacks","pop","removeEventListener","helper","contextmenu","unbind","upbind","unupbind","active","oncontextmenu","preventDefault","Entity","canvas","xvals","yvals","width","height","img","_canvas","_width","_height","_img","_xvals","last","fric","Infinity","end","_yvals","that","TypeError","inside","y2","x2","delta","update","newv","abs","sign","newp","interp","getContext","drawImage","Bullet","player","_player","Player","playerimg","bulletimg","_bulletimg","_accel","_up","_down","_left","_right","_cd","cur","_bullets","splice","forEach","item","bullet","ctx","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","draw","bool","Enemy","random","Game","Image","enemyimg","src","playerimgurl","bulletimgurl","enemyimgurl","enemies","kills","input","up","left","down","right","randRange","min","fire","enemy","numBullets","collides","bulletAt","despawnBullet","fillStyle","fillRect","font","fillText","app","getElementById","createElement","id","style","appendChild","instructions","innerHTML"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/**\n * mainloop.js 1.0.3-20170529\n *\n * @author Isaac Sukin (http://www.isaacsukin.com/)\n * @license MIT\n */\n\n!function(a){function b(a){if(x=q(b),!(a<e+l)){for(d+=a-e,e=a,t(a,d),a>i+h&&(f=g*j*1e3/(a-i)+(1-g)*f,i=a,j=0),j++,k=0;d>=c;)if(u(c),d-=c,++k>=240){o=!0;break}v(d/c),w(f,o),o=!1}}var c=1e3/60,d=0,e=0,f=60,g=.9,h=1e3,i=0,j=0,k=0,l=0,m=!1,n=!1,o=!1,p=\"object\"==typeof window?window:a,q=p.requestAnimationFrame||function(){var a=Date.now(),b,d;return function(e){return b=Date.now(),d=Math.max(0,c-(b-a)),a=b+d,setTimeout(function(){e(b+d)},d)}}(),r=p.cancelAnimationFrame||clearTimeout,s=function(){},t=s,u=s,v=s,w=s,x;a.MainLoop={getSimulationTimestep:function(){return c},setSimulationTimestep:function(a){return c=a,this},getFPS:function(){return f},getMaxAllowedFPS:function(){return 1e3/l},setMaxAllowedFPS:function(a){return\"undefined\"==typeof a&&(a=1/0),0===a?this.stop():l=1e3/a,this},resetFrameDelta:function(){var a=d;return d=0,a},setBegin:function(a){return t=a||t,this},setUpdate:function(a){return u=a||u,this},setDraw:function(a){return v=a||v,this},setEnd:function(a){return w=a||w,this},start:function(){return n||(n=!0,x=q(function(a){v(1),m=!0,e=a,i=a,j=0,x=q(b)})),this},stop:function(){return m=!1,n=!1,r(x),this},isRunning:function(){return m}},\"function\"==typeof define&&define.amd?define(a.MainLoop):\"object\"==typeof module&&null!==module&&\"object\"==typeof module.exports&&(module.exports=a.MainLoop)}(this);\n//# sourceMappingURL=mainloop.min.js.map","// This is where I hid all the complicated stuff.\n\nconst mouseButtons = [\"mouseleft\", \"mousemiddle\", \"mouseright\"];\nconst modifiers = [\"Alt\", \"Control\", \"Meta\", \"Shift\"];\n\n// eslint-disable-next-line no-undef\nmodule.exports = {\n  // returns something like:\n  // { None: {}, Alt: {}, Control: {}, Meta: {}, Shift: {} }\n  initBinds: function () {\n    var out = { None: {} };\n    for (const mod of modifiers) {\n      out[mod] = {};\n    }\n    return out;\n  },\n\n  // assigns some keybinds to the document to update data.\n  // note that data is passed by reference,\n  // so the original data in Input.js is modified.\n  prepareDocument: function (data) {\n    document.addEventListener(\"keydown\", (e) => {\n      data.pressed[e.key] = true;\n    });\n\n    document.addEventListener(\"keyup\", (e) => {\n      data.pressed[e.key] = false;\n    });\n\n    document.addEventListener(\"mousedown\", (e) => {\n      data.pressed[mouseButtons[e.button]] = true;\n    });\n\n    document.addEventListener(\"mouseup\", (e) => {\n      data.pressed[mouseButtons[e.button]] = false;\n    });\n\n    document.addEventListener(\"mousemove\", (e) => {\n      data.x = e.x;\n      data.y = e.y;\n    });\n  },\n\n  // takes some args from bind() and returns an object with nice references.\n  // essentially just a fancy switch block.\n  extract: function (args) {\n    var mod = \"None\",\n      key,\n      callback;\n\n    switch (args.length) {\n      case 1:\n        key = args[0];\n        break;\n\n      case 2:\n        if (typeof args[1] === \"function\") {\n          key = args[0];\n          callback = args[1];\n        } else {\n          mod = args[0];\n          key = args[1];\n        }\n        break;\n\n      case 3:\n        mod = args[0];\n        key = args[1];\n        callback = args[2];\n        break;\n    }\n    return { mod, key, callback };\n  },\n\n  // this function has the bulk of the logic for bind().\n  // it's abstracted out like this so that we can use it for both bind() and upbind().\n  // again, \"data\" is passed by reference --- important!\n  // \"dry\" is a flag for a dry run, i.e. no event listeners, used for unit testing.\n  bindHelper: function (data, vals, event, dry = false) {\n    // validate returns true if the event e matches the values in vals.\n    // ex. if vals.mod === \"Shift\" and vals.key === \"a\",\n    // validate will return true iff e.key === \"a\" and e.shiftKey === true.\n    function validate(vals, e) {\n      return (\n        (vals.key === \"mousemove\" ||\n          vals.key === mouseButtons[e.button] ||\n          vals.key === e.key) &&\n        (vals.mod === \"None\" ||\n          (vals.mod === \"Shift\" && e.shiftKey) ||\n          (vals.mod === \"Control\" && e.ctrlKey) ||\n          (vals.mod === \"Meta\" && e.metaKey) ||\n          (vals.mod === \"Alt\" && e.altKey))\n      );\n    }\n\n    // check which way we're binding.\n    var binds;\n    if (event === \"down\") {\n      binds = data.binds;\n    } else if (event === \"up\") {\n      binds = data.upbinds;\n    }\n    // this function will brick entirely if called with anything besides \"up\" or \"down\".\n    // which is by design.\n\n    // initialize any keys that don't exist.\n    if (!binds[vals.mod][vals.key]) {\n      binds[vals.mod][vals.key] = [];\n    }\n\n    // if bind was called with a function, do this.\n    if (vals.callback) {\n      const wrappedCallback = function (e) {\n        if (validate(vals, e)) {\n          vals.callback(e);\n        }\n      };\n\n      // intelligently find the event type.\n      var type;\n      if (vals.key === \"mousemove\") {\n        type = \"mousemove\";\n      } else if (mouseButtons.includes(vals.key)) {\n        type = \"mouse\" + event;\n      } else {\n        type = \"key\" + event;\n      }\n\n      binds[vals.mod][vals.key].push(wrappedCallback);\n      !dry && document.addEventListener(type, wrappedCallback);\n\n      return true;\n      // otherwise, return false, signalling to Input.js to return the callbacks.\n    } else {\n      return false;\n    }\n  },\n\n  // As you can imagine, a helper function for unbind.\n  // Takes the same parameters as above.\n  unbindHelper: function (data, vals, event, dry = false) {\n    // intelligently find the event type.\n    var type;\n    if (vals.key === \"mousemove\") {\n      type = \"mousemove\";\n    } else if (mouseButtons.includes(vals.key)) {\n      type = \"mouse\" + event;\n    } else {\n      type = \"key\" + event;\n    }\n\n    // check which way we're binding.\n    var binds;\n    if (event === \"down\") {\n      binds = data.binds;\n    } else if (event === \"up\") {\n      binds = data.upbinds;\n    }\n\n    // callbacks is also just a reference.\n    const callbacks = binds[vals.mod][vals.key];\n    if (callbacks) {\n      // pop and remove each callback.\n      while (callbacks.length > 0) {\n        const callback = callbacks.pop();\n        !dry && document.removeEventListener(type, callback);\n      }\n    }\n  },\n};\n","// The app itself!\n// Most of the heavy lifting is in Helpers.js.\n// This file should be legible, but a little mysterious.\n// Like me.\n\n// Note: this module uses the immediately-invoked-function pattern.\nexport default (function () {\n  // eslint-disable-next-line no-undef\n  const helper = require(\"./Helpers.js\");\n\n  // All the state variables we need to keep track of.\n  var data = {\n    x: 0,\n    y: 0,\n    // pressed is just a hash of key:boolean.\n    pressed: {},\n    // binds is more complicated.\n    // we're storing the data as something like...\n    // { modifier: { key: [callback1 callback2] } }\n    // so the binds for A are in data.binds[\"None\"][\"a\"],\n    // and the binds for Shift B are in data.binds[\"Shift\"][\"B\"].\n    binds: helper.initBinds(),\n    upbinds: helper.initBinds(),\n    // some state flags\n    contextmenu: true,\n  };\n\n  // A note on Shift and CapsLock:\n  // Because of the way we've written this,\n  // All \"Shift\" binds should use the \"Shift\"-ed version of the character.\n  // ex. bind(\"Shift\", \"A\") is good,\n  // but bind(\"Shift\", \"a\") is not.\n  // bind(\"Shift\", \"a\") is only accessible if \"a\" is fired while \"Shift\" is held down,\n  // which will only happen when CapsLock is active.\n  // bind(\"Shift\", \"1\") will never fire at all ---\n  // use bind(\"Shift\", \"!\") instead.\n\n  // Binds the necessary eventListeners to update data.\n  helper.prepareDocument(data);\n\n  const input = {\n    // bind is weird.\n    // bind(str) should return the functions at that key.\n    // bind(str, str) should return the functions at that modifier + key.\n    // bind(str, func) should bind func to that key.\n    // bind(str, str, func) should do the same, bu with a modifier key.\n    bind: function (...args) {\n      const vals = helper.extract(args);\n      if (helper.bindHelper(data, vals, \"down\")) {\n        return this;\n      } else {\n        return this.binds[vals.mod][vals.key];\n      }\n    },\n\n    // same as bind, but removes all binds on that key.\n    unbind: function (...args) {\n      const vals = helper.extract(args);\n      helper.unbindHelper(data, vals, \"down\");\n      return this;\n    },\n\n    // similar functions for keyups.\n    upbind: function (...args) {\n      const vals = helper.extract(args);\n      if (helper.bindHelper(data, vals, \"up\")) {\n        return this;\n      } else {\n        return this.binds[vals.mod][vals.key];\n      }\n    },\n    unupbind: function (...args) {\n      const vals = helper.extract(args);\n      helper.unbindHelper(data, vals, \"up\");\n      return this;\n    },\n\n    contextmenu: function (active) {\n      if (active) {\n        document.oncontextmenu = null;\n      } else {\n        document.oncontextmenu = function (e) {\n          e.preventDefault();\n          return false;\n        };\n      }\n      data.contextmenu = active;\n    },\n\n    // assorted getters for data.\n    // data should not be directly accessible!\n    get pressed() {\n      return data.pressed;\n    },\n    get x() {\n      return data.x;\n    },\n    get y() {\n      return data.y;\n    },\n    get binds() {\n      return data.binds;\n    },\n    get upbinds() {\n      return data.upbinds;\n    },\n  };\n\n  return input;\n})();\n","class Entity {\n  constructor(canvas, xvals, yvals, width, height, img) {\n    this._canvas = canvas;\n    this._width = width;\n    this._height = height;\n    this._img = img;\n\n    this._xvals = {\n      last: xvals.last || 0,\n      p: xvals.p || 0,\n      v: xvals.v || 0,\n      a: xvals.a || 0,\n      fric: xvals.fric || 0,\n      max: xvals.max || Infinity,\n      end: canvas.width - width,\n    };\n\n    this._yvals = {\n      last: yvals.last || 0,\n      p: yvals.p || 0,\n      v: yvals.v || 0,\n      a: yvals.a || 0,\n      fric: yvals.fric || 0,\n      max: yvals.max || Infinity,\n      end: canvas.height - height,\n    };\n  }\n\n  get x() {\n    return this._xvals.p;\n  }\n\n  get x2() {\n    return this._xvals.p + this.width;\n  }\n\n  get y() {\n    return this._yvals.p;\n  }\n\n  get y2() {\n    return this._yvals.p + this.height;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  inside(x, y) {\n    return !!(\n      this.x <= x &&\n      x <= this.x + this.width &&\n      this.y <= y &&\n      y <= this.y + this.height\n    );\n  }\n\n  collides(that) {\n    if (typeof that !== typeof this) {\n      throw new TypeError(\"function 'collides' called on a non-Entity object.\");\n    }\n\n    return !!(\n      this.inside(that.x, that.y) ||\n      this.inside(that.x, that.y2) ||\n      this.inside(that.x2, that.y) ||\n      this.inside(that.x2, that.y2) ||\n      that.inside(this.x, this.y) ||\n      that.inside(this.x, this.y2) ||\n      that.inside(this.x2, this.y) ||\n      that.inside(this.x2, this.y2)\n    );\n  }\n\n  update(delta) {\n    function update(vals) {\n      vals.last = vals.p;\n\n      const newv = vals.v + vals.a * delta;\n      if (vals.a !== 0) {\n        if (Math.abs(newv) < vals.max) {\n          vals.v = newv;\n        } else {\n          vals.v = vals.max * Math.sign(newv);\n        }\n      } else if (vals.v > 0) {\n        vals.v -= vals.fric;\n        if (vals.v < 0) {\n          vals.v = 0;\n        }\n      } else if (vals.v < 0) {\n        vals.v += vals.fric;\n        if (vals.v > 0) {\n          vals.v = 0;\n        }\n      }\n\n      const newp = vals.p + vals.v * delta;\n      // if in bounds\n      if (newp < 0) {\n        vals.p = 0;\n        vals.v = 0;\n        // if we're here, we hit the edge, so set v to 0.\n        // without this line, the player sticks to the walls in a weird way.\n      } else if (newp > vals.end) {\n        vals.p = vals.end;\n        vals.v = 0;\n      } else {\n        vals.p = newp;\n      }\n    }\n    update(this._xvals);\n    update(this._yvals);\n  }\n\n  draw(interp) {\n    const x = this._xvals.last + (this.x - this._xvals.last) * interp;\n    const y = this._yvals.last + (this.y - this._yvals.last) * interp;\n    this._canvas\n      .getContext(\"2d\")\n      .drawImage(this._img, x, y, this.width, this.height);\n  }\n}\n\nexport default Entity;\n","import Entity from \"../Entity.js\";\n\nclass Bullet extends Entity {\n  constructor(canvas, player, img) {\n    const x = player.x + player.width;\n    const y = player.y + player.height / 2;\n    super(\n      canvas,\n      { last: x, p: x, v: 2 }, // xvals\n      { last: y, p: y, v: 2 }, // yvals\n      20,\n      20,\n      img\n    );\n\n    this._player = player;\n  }\n\n  update(delta) {\n    super.update(delta);\n    this._yvals.p = this._player.y + this._player.height / 2;\n  }\n}\n\nexport default Bullet;\n","import Entity from \"../Entity.js\";\nimport Bullet from \"./Bullet.js\";\n\nclass Player extends Entity {\n  constructor(canvas, x, y, playerimg, bulletimg) {\n    const fric = 0.038;\n    const max = 0.6;\n    super(\n      canvas,\n      { last: x, p: x, fric: fric, max: max }, // xvals\n      { last: y, p: y, fric: fric, max: max }, // yvals\n      25, // width\n      25, // height\n      playerimg\n    );\n\n    this._bulletimg = bulletimg;\n\n    this._accel = 0.03;\n\n    this._up = false;\n    this._down = false;\n    this._left = false;\n    this._right = false;\n\n    this._cd = { cur: 0, max: 500 };\n    this._bullets = [];\n  }\n\n  fire() {\n    if (this._cd.cur <= 0) {\n      this._bullets.push(new Bullet(this._canvas, this, this._bulletimg));\n      this._cd.cur = this._cd.max;\n    }\n  }\n\n  despawnBullet(i) {\n    this._bullets.splice(i, 1);\n  }\n\n  update(delta) {\n    this._xvals.a = -(this._left && this._accel) + (this._right && this._accel);\n    this._yvals.a = -(this._up && this._accel) + (this._down && this._accel);\n\n    this._bullets.forEach(function (item) {\n      item.update(delta);\n    });\n\n    for (var i = 0; i < this._bullets.length; i++) {\n      const bullet = this._bullets[i];\n      if (bullet.x >= bullet._xvals.end) {\n        this._bullets.splice(i--, 1);\n      }\n    }\n\n    if (this._cd.cur > 0) {\n      this._cd.cur -= delta;\n    }\n\n    Entity.prototype.update.call(this, delta);\n  }\n\n  draw(interp) {\n    const ctx = this._canvas.getContext(\"2d\");\n\n    // draw a laser sight.\n    ctx.beginPath();\n    ctx.strokeStyle = \"#f88\";\n    ctx.lineWidth = 1;\n    ctx.moveTo(this.x + this.width, this.y + this.height / 2);\n    ctx.lineTo(this._canvas.width, this.y + this.height / 2);\n    ctx.stroke();\n\n    this._bullets.forEach(function (item) {\n      item.draw(interp);\n    });\n\n    Entity.prototype.draw.call(this, interp);\n  }\n\n  up(bool) {\n    this._up = !!bool;\n  }\n\n  down(bool) {\n    this._down = !!bool;\n  }\n\n  left(bool) {\n    this._left = !!bool;\n  }\n\n  right(bool) {\n    this._right = !!bool;\n  }\n\n  get numBullets() {\n    return this._bullets.length;\n  }\n\n  bulletAt(i) {\n    return this._bullets[i];\n  }\n}\n\nexport default Player;\n","import Entity from \"../Entity.js\";\n\nclass Enemy extends Entity {\n  constructor(canvas, x, y, img) {\n    const a = 0.0001;\n    super(\n      canvas,\n      { last: x, p: x, a: a, max: 0.1 },\n      { last: y, p: y, a: a, max: 0.3 },\n      50,\n      50,\n      img\n    );\n  }\n\n  update(delta) {\n    if (this.x <= 0 || this.x >= this._xvals.end || Math.random() < 0.01) {\n      this._xvals.a *= -1;\n    }\n\n    if (this.y <= 0 || this.y >= this._yvals.end || Math.random() < 0.01) {\n      this._yvals.a *= -1;\n    }\n\n    super.update(delta);\n  }\n}\n\nexport default Enemy;\n","export default __webpack_public_path__ + \"src/assets/player.png\";","export default __webpack_public_path__ + \"src/assets/bullet.png\";","export default __webpack_public_path__ + \"src/assets/enemy.png\";","import MainLoop from \"mainloop.js\";\nimport input from \"@jjy/input\";\n\nimport Player from \"./Entity/Player/Player.js\";\nimport Enemy from \"./Entity/Enemy/Enemy.js\";\n\nimport playerimgurl from \"../assets/player.png\";\nimport bulletimgurl from \"../assets/bullet.png\";\nimport enemyimgurl from \"../assets/enemy.png\";\n\nfunction Game(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n\n  const playerimg = new Image();\n  const bulletimg = new Image();\n  const enemyimg = new Image();\n  playerimg.src = playerimgurl;\n  bulletimg.src = bulletimgurl;\n  enemyimg.src = enemyimgurl;\n\n  const player = new Player(\n    canvas,\n    200,\n    canvas.height / 2,\n    playerimg,\n    bulletimg\n  );\n\n  const enemies = [];\n\n  let kills = 0;\n\n  function update(delta) {\n    function randRange(min, max) {\n      return min + Math.random() * (max - min);\n    }\n\n    if (input.pressed[\" \"]) {\n      player.fire();\n    }\n\n    if (enemies.length < 5 && Math.random() < 0.05) {\n      enemies.push(\n        new Enemy(\n          canvas,\n          randRange(canvas.width / 2, canvas.width - 25),\n          randRange(0, canvas.height - 25),\n          enemyimg\n        )\n      );\n    }\n\n    for (var i = 0; i < enemies.length; i++) {\n      const enemy = enemies[i];\n      for (var j = 0; j < player.numBullets; j++) {\n        if (enemy.collides(player.bulletAt(j))) {\n          enemies.splice(i--, 1);\n          player.despawnBullet(j);\n          kills++;\n          break;\n        }\n      }\n    }\n\n    enemies.forEach(function (enemy) {\n      enemy.update(delta);\n    });\n\n    player.update(delta);\n  }\n\n  function draw(interp) {\n    ctx.fillStyle = \"#ddf\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.font = \"30px Arial\";\n    ctx.fillText(`kills: ${kills}`, 0, canvas.width / 2);\n\n    enemies.forEach(function (enemy) {\n      enemy.draw(interp);\n    });\n\n    player.draw(interp);\n  }\n\n  input.bind(\"w\", function () {\n    player.up(true);\n  });\n  input.upbind(\"w\", function () {\n    player.up(false);\n  });\n\n  input.bind(\"a\", function () {\n    player.left(true);\n  });\n  input.upbind(\"a\", function () {\n    player.left(false);\n  });\n\n  input.bind(\"s\", function () {\n    player.down(true);\n  });\n  input.upbind(\"s\", function () {\n    player.down(false);\n  });\n\n  input.bind(\"d\", function () {\n    player.right(true);\n  });\n  input.upbind(\"d\", function () {\n    player.right(false);\n  });\n\n  MainLoop.setUpdate(update).setDraw(draw);\n\n  return MainLoop;\n}\nexport default Game;\n","import Game from \"./js/Game.js\";\n\nconst app = document.getElementById(\"app\");\nconst canvas = document.createElement(\"canvas\");\n\ncanvas.width = 1200;\ncanvas.height = 600;\ncanvas.id = \"canvas\";\ncanvas.style = \"padding: 0; margin: auto; display: block;\";\n\napp.appendChild(canvas);\n\nvar instructions = document.createElement(\"p\");\ninstructions.innerHTML = \"WASD to move, Space to shoot.\";\napp.appendChild(instructions);\n\nGame(canvas).start();\n"],"sourceRoot":""}